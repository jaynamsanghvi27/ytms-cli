<div class="container-fluid g-0">
    <app-tm-header (sideNavToggled)="sideNavStatus=$event;">
    </app-tm-header>

    <main>
        <app-tm-sidebar [ngClass]="{'app-side-nav-open':sideNavStatus}" [sideNavStatus]="sideNavStatus" class="black-border"></app-tm-sidebar>
        <div [ngClass]="{'display-area-shrink':sideNavStatus}" class="display-area p-3">
            <div class="tab">
                <button *ngIf="userRole !== 'ROLE_COMPETENCY_MANAGER'" matBadge="{{listOfRequestersCount}}" matBadgeColor="warn" class="tablinks" style="background-color: #005ba3; color: white;" (click)="openList('requesterList')">List of Requesters</button>                &nbsp;&nbsp;
                <button matBadge="{{listOfTrainingsCount}}" matBadgeColor="warn" class="tablinks" style="background-color: #005ba3; color: white;" (click)="openList('trainingList')">Upcoming Training List</button> &nbsp;&nbsp;
                <button *ngIf="userRole !== 'ROLE_COMPETENCY_MANAGER'" matBadge="{{listOfPendingLeavesCount}}" matBadgeColor="warn" class="tablinks" style="background-color: #005ba3; color: white;" (click)="openList('pendingLeaveList')">Pending Leaves</button>                &nbsp;&nbsp;
                <button matBadge="{{listOfActiveUserCount}}" matBadgeColor="warn" class="tablinks" style="background-color: #005ba3; color: white;" (click)="openList('activeUserList')">Active Users</button>                &nbsp;&nbsp;
            </div>
            <!-- <p class="fs-1 fw-bold fst-italic text-center" style="background-color: #005ba3;">List of Requesters</p> -->
            <div *ngIf="listOfRequester">
                <table class="table table-striped custab"*ngIf="requesterTable">
                    <thead>
                        <tr>
                        <th scope="col">Full Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Role</th>
                        <th >Actions</th>
                    </tr>
                    </thead>

                    <tbody *ngFor="let user of userDetails">
                        <tr>
                            <th scope="row">{{ user.fullName }}</th>
                            <td>{{ user.emailAdd }}</td>
                            <td> <select [(ngModel)]="user.roleType">
                                <option *ngFor="let role of roles" [value]="role.roleTypes">
                                  {{ role.roleTypes }}
                                </option>
                              </select></td>
                            <td>
                                <button (click)="approveUser(user)" class="btn btn-primary btn-sn" id="submitbtn" name="submit" style="margin-left: 10px;">Approve
            </button>
                                <button (click)="declineUser(user)" class="btn btn-primary btn-sn" id="submitbtn" name="submit" style="margin-left: 10px;">Decline
            </button>
                            </td>
                        </tr>
                    </tbody>

                </table>
            </div>

            <div *ngIf="!listOfRequester && !listOfPendingLeaves && !listOfActiveUser">
                <app-requester-home></app-requester-home>
            </div>
            <div *ngIf="listOfPendingLeaves && !listOfRequester && !listOfActiveUser">
                <app-pending-leaves></app-pending-leaves>
            </div>

            <div *ngIf="listOfActiveUser && !listOfPendingLeaves && !listOfRequester">
                <app-approved-user-detail></app-approved-user-detail>
            </div>

        </div>
    </main>

</div>